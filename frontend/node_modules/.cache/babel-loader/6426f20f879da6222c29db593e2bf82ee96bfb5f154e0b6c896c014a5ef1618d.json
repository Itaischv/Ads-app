{"ast":null,"code":"import axios from \"axios\";\nconst baseURL = \"http://localhost:3030\";\nexport async function pageLoadEvent() {\n  const res = await axios.post(`${baseURL}/events`, {\n    type: \"Page load\",\n    timestamp: Date.now()\n  });\n  return res;\n}\nexport async function adClickedEvent(e) {\n  e.preventDefault();\n  const res = await axios.post(`${baseURL}/events`, {\n    type: \"Ad clicked\",\n    timestamp: Date.now(),\n    slot: e.target.id,\n    googleQueryId: e.target.getAttribute(\"data-google-query-id\")\n  });\n  console.debug(\"Event: adClickedEvent, Results: \", res.data);\n  return res;\n}\nexport async function adViewedEvent() {\n  window.googletag.cmd.push(function () {\n    window.googletag.pubads().addEventListener('impressionViewable', async function (e) {\n      // Send event;\n      let data = {\n        type: \"Ad slot viewed\",\n        slot_id: e.slot.getSlotElementId(),\n        timestamp: Date.now()\n      };\n      const res = await axios.post(`${baseURL}/events`, data);\n      return res;\n    });\n  });\n}","map":{"version":3,"names":["axios","baseURL","pageLoadEvent","res","post","type","timestamp","Date","now","adClickedEvent","e","preventDefault","slot","target","id","googleQueryId","getAttribute","console","debug","data","adViewedEvent","window","googletag","cmd","push","pubads","addEventListener","slot_id","getSlotElementId"],"sources":["/Users/itaipt/projects/advs-project/src/api/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst baseURL = \"http://localhost:3030\"\n\nexport async function pageLoadEvent() {\n    const res = await axios.post(`${baseURL}/events`, {\n        type: \"Page load\",\n        timestamp: Date.now()\n    })\n    return res;\n}\n\nexport async function adClickedEvent(e) {\n    e.preventDefault();\n    const res = await axios.post(`${baseURL}/events`, {\n        type: \"Ad clicked\",\n        timestamp: Date.now(),\n        slot: e.target.id,\n        googleQueryId: e.target.getAttribute(\"data-google-query-id\")\n    })\n    console.debug(\"Event: adClickedEvent, Results: \", res.data)\n    return res;\n}\n\nexport async function adViewedEvent() {\n    window.googletag.cmd.push(function() {\n        window.googletag.pubads().addEventListener('impressionViewable', async function(e) {\n            // Send event;\n            let data = {\n                type: \"Ad slot viewed\",\n                slot_id: e.slot.getSlotElementId(),\n                timestamp: Date.now()\n            }\n            const res = await axios.post(`${baseURL}/events`, data)\n            return res;\n        });\n    });\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,OAAO,eAAeC,aAAaA,CAAA,EAAG;EAClC,MAAMC,GAAG,GAAG,MAAMH,KAAK,CAACI,IAAI,CAAE,GAAEH,OAAQ,SAAQ,EAAE;IAC9CI,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC;EACxB,CAAC,CAAC;EACF,OAAOL,GAAG;AACd;AAEA,OAAO,eAAeM,cAAcA,CAACC,CAAC,EAAE;EACpCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,MAAMR,GAAG,GAAG,MAAMH,KAAK,CAACI,IAAI,CAAE,GAAEH,OAAQ,SAAQ,EAAE;IAC9CI,IAAI,EAAE,YAAY;IAClBC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;IACrBI,IAAI,EAAEF,CAAC,CAACG,MAAM,CAACC,EAAE;IACjBC,aAAa,EAAEL,CAAC,CAACG,MAAM,CAACG,YAAY,CAAC,sBAAsB;EAC/D,CAAC,CAAC;EACFC,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEf,GAAG,CAACgB,IAAI,CAAC;EAC3D,OAAOhB,GAAG;AACd;AAEA,OAAO,eAAeiB,aAAaA,CAAA,EAAG;EAClCC,MAAM,CAACC,SAAS,CAACC,GAAG,CAACC,IAAI,CAAC,YAAW;IACjCH,MAAM,CAACC,SAAS,CAACG,MAAM,CAAC,CAAC,CAACC,gBAAgB,CAAC,oBAAoB,EAAE,gBAAehB,CAAC,EAAE;MAC/E;MACA,IAAIS,IAAI,GAAG;QACPd,IAAI,EAAE,gBAAgB;QACtBsB,OAAO,EAAEjB,CAAC,CAACE,IAAI,CAACgB,gBAAgB,CAAC,CAAC;QAClCtB,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC;MACxB,CAAC;MACD,MAAML,GAAG,GAAG,MAAMH,KAAK,CAACI,IAAI,CAAE,GAAEH,OAAQ,SAAQ,EAAEkB,IAAI,CAAC;MACvD,OAAOhB,GAAG;IACd,CAAC,CAAC;EACN,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}